---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import StreamerCard from '../../../components/streamers/StreamerCard.tsx';
import { Youtube, Twitch, Users, Eye, Play, Star, Filter, Search } from 'lucide-react';

const title = "الستريمرز واليوتيوبرز - زد اتش لوف";
const description = "تابع أفضل صناع المحتوى في الجنرالات زيرو آور وتعلم من خبراتهم";

// Mock streamers data
const featuredStreamers = [
  {
    id: 1,
    username: 'sultan_commander',
    displayName: 'سلطان القائد',
    avatar: '/avatars/sultan_commander.png',
    banner: '/banners/sultan_banner.jpg',
    description: 'أحد أفضل لاعبي الجنرالات في الشرق الأوسط. أقدم محتوى تعليمي وتنافسي منذ 2018.',
    isVerified: true,
    isOnline: true,
    platforms: [
      {
        type: 'youtube',
        url: 'https://youtube.com/@sultancommander',
        followers: 125000,
        isVerified: true
      },
      {
        type: 'twitch',
        url: 'https://twitch.tv/sultancommander',
        followers: 45000,
        isVerified: false
      }
    ],
    stats: {
      totalFollowers: 170000,
      totalViews: 8500000,
      totalVideos: 450,
      averageViews: 18800,
      rating: 4.8,
      totalRatings: 1240
    },
    gameStats: {
      totalPlaytime: 2400,
      favoriteGeneral: 'USA',
      rank: 'Grandmaster',
      level: 87,
      winRate: 89
    },
    latestVideo: {
      id: 'v1',
      title: 'أسرار تكتيكات USA المتقدمة - دليل شامل',
      thumbnail: '/thumbnails/usa_tactics.jpg',
      views: 45000,
      duration: 1680,
      publishedAt: '2024-01-15T10:00:00Z'
    },
    tags: ['strategy', 'tutorial', 'usa', 'competitive'],
    country: 'السعودية',
    language: 'ar',
    joinedAt: '2018-03-15T00:00:00Z',
    lastActivity: '2024-01-15T20:30:00Z',
    isFollowed: false,
    contentType: 'tutorials',
    schedule: {
      timezone: 'GMT+3',
      days: ['الأحد', 'الثلاثاء', 'الخميس'],
      time: '20:00'
    }
  },
  {
    id: 2,
    username: 'desert_warrior',
    displayName: 'محارب الصحراء',
    avatar: '/avatars/desert_warrior.png',
    banner: '/banners/desert_banner.jpg',
    description: 'خبير في تكتيكات GLA وأسلوب اللعب الهجومي. محتوى ترفيهي وتعليمي مميز.',
    isVerified: true,
    isOnline: false,
    platforms: [
      {
        type: 'youtube',
        url: 'https://youtube.com/@desertwarrior',
        followers: 89000,
        isVerified: true
      },
      {
        type: 'twitch',
        url: 'https://twitch.tv/desertwarrior',
        followers: 23000,
        isVerified: false
      }
    ],
    stats: {
      totalFollowers: 112000,
      totalViews: 4200000,
      totalVideos: 320,
      averageViews: 13100,
      rating: 4.6,
      totalRatings: 890
    },
    gameStats: {
      totalPlaytime: 1800,
      favoriteGeneral: 'GLA',
      rank: 'Master',
      level: 72,
      winRate: 84
    },
    latestVideo: {
      id: 'v2',
      title: 'تكتيكات GLA الخاطفة - كيف تفوز في 10 دقائق',
      thumbnail: '/thumbnails/gla_rush.jpg',
      views: 28000,
      duration: 920,
      publishedAt: '2024-01-14T16:00:00Z'
    },
    tags: ['gla', 'rush', 'entertainment', 'strategy'],
    country: 'مصر',
    language: 'ar',
    joinedAt: '2019-06-20T00:00:00Z',
    lastActivity: '2024-01-14T18:45:00Z',
    isFollowed: true,
    contentType: 'entertainment',
    schedule: {
      timezone: 'GMT+2',
      days: ['الاثنين', 'الأربعاء', 'الجمعة'],
      time: '19:00'
    }
  }
];

const allStreamers = [
  ...featuredStreamers,
  {
    id: 3,
    username: 'chinese_dragon',
    displayName: 'التنين الصيني',
    avatar: '/avatars/chinese_dragon.png',
    description: 'متخصص في تكتيكات الصين والدفاع المتقدم',
    isVerified: false,
    isOnline: true,
    platforms: [
      {
        type: 'youtube',
        url: 'https://youtube.com/@chinesedragon',
        followers: 45000,
        isVerified: false
      }
    ],
    stats: {
      totalFollowers: 45000,
      totalViews: 1800000,
      totalVideos: 180,
      averageViews: 10000,
      rating: 4.3,
      totalRatings: 320
    },
    gameStats: {
      totalPlaytime: 1200,
      favoriteGeneral: 'China',
      rank: 'Platinum',
      level: 58,
      winRate: 78
    },
    tags: ['china', 'defense', 'strategy'],
    country: 'الإمارات',
    language: 'ar',
    joinedAt: '2020-09-10T00:00:00Z',
    lastActivity: '2024-01-15T19:20:00Z',
    isFollowed: false,
    contentType: 'competitive'
  },
  {
    id: 4,
    username: 'pro_gamer_ar',
    displayName: 'المحترف العربي',
    avatar: '/avatars/pro_gamer.png',
    description: 'لاعب محترف مختص في البطولات والمنافسات',
    isVerified: true,
    isOnline: false,
    platforms: [
      {
        type: 'twitch',
        url: 'https://twitch.tv/progamerar',
        followers: 67000,
        isVerified: true
      },
      {
        type: 'youtube',
        url: 'https://youtube.com/@progamerar',
        followers: 34000,
        isVerified: false
      }
    ],
    stats: {
      totalFollowers: 101000,
      totalViews: 3500000,
      totalVideos: 280,
      averageViews: 12500,
      rating: 4.7,
      totalRatings: 650
    },
    gameStats: {
      totalPlaytime: 2000,
      favoriteGeneral: 'USA',
      rank: 'Grandmaster',
      level: 92,
      winRate: 91
    },
    tags: ['pro', 'tournament', 'competitive'],
    country: 'الكويت',
    language: 'ar',
    joinedAt: '2017-12-03T00:00:00Z',
    lastActivity: '2024-01-15T14:30:00Z',
    isFollowed: false,
    contentType: 'competitive'
  }
];

const streamerStats = {
  totalStreamers: 156,
  liveStreamers: 23,
  verifiedStreamers: 45,
  totalViews: 25000000,
  avgFollowers: 25000
};
---

<BaseLayout title={title} description={description}>
  <div class="container-custom py-8">
    <!-- Header -->
    <div class="flex items-center justify-between mb-8">
      <div>
        <h1 class="text-3xl font-bold text-foreground mb-2 flex items-center space-x-3 rtl:space-x-reverse">
          <Youtube size={32} class="text-red-500" />
          <span>الستريمرز واليوتيوبرز</span>
        </h1>
        <p class="text-muted-foreground">تابع أفضل صناع المحتوى في الجنرالات زيرو آور</p>
      </div>
      <a href="/ar/streamers/apply" class="btn btn-primary flex items-center space-x-2 rtl:space-x-reverse">
        <Star size={20} />
        <span>انضم كستريمر</span>
      </a>
    </div>

    <!-- Statistics -->
    <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
      <div class="military-card p-4 text-center">
        <div class="text-2xl font-bold text-tactical-green mb-1">{streamerStats.totalStreamers}</div>
        <div class="text-sm text-muted-foreground">ستريمر</div>
      </div>
      <div class="military-card p-4 text-center">
        <div class="text-2xl font-bold text-red-500 mb-1">{streamerStats.liveStreamers}</div>
        <div class="text-sm text-muted-foreground">مباشر الآن</div>
      </div>
      <div class="military-card p-4 text-center">
        <div class="text-2xl font-bold text-victory-gold mb-1">{streamerStats.verifiedStreamers}</div>
        <div class="text-sm text-muted-foreground">موثق</div>
      </div>
      <div class="military-card p-4 text-center">
        <div class="text-2xl font-bold text-command-blue mb-1">{(streamerStats.totalViews / 1000000).toFixed(1)}M</div>
        <div class="text-sm text-muted-foreground">مشاهدة</div>
      </div>
      <div class="military-card p-4 text-center">
        <div class="text-2xl font-bold text-neutral-silver mb-1">{(streamerStats.avgFollowers / 1000).toFixed(0)}K</div>
        <div class="text-sm text-muted-foreground">متوسط المتابعين</div>
      </div>
    </div>

    <!-- Search and Filter -->
    <div class="military-card p-4 mb-8">
      <div class="flex flex-col lg:flex-row gap-4">
        <div class="flex-1 relative">
          <Search class="absolute left-3 rtl:right-3 rtl:left-auto top-1/2 transform -translate-y-1/2 text-muted-foreground" size={20} />
          <input
            type="text"
            placeholder="البحث عن ستريمر..."
            class="w-full pl-10 rtl:pr-10 rtl:pl-3 pr-3 py-2 bg-input border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-ring"
          />
        </div>
        
        <div class="flex flex-wrap items-center gap-2">
          <div class="flex items-center space-x-2 rtl:space-x-reverse">
            <Filter size={20} class="text-muted-foreground" />
            <select class="bg-input border border-border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-ring">
              <option value="">جميع الأنواع</option>
              <option value="tutorials">تعليمي</option>
              <option value="entertainment">ترفيهي</option>
              <option value="competitive">تنافسي</option>
              <option value="mixed">متنوع</option>
            </select>
          </div>
          
          <select class="bg-input border border-border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-ring">
            <option value="">جميع المنصات</option>
            <option value="youtube">YouTube</option>
            <option value="twitch">Twitch</option>
            <option value="facebook">Facebook</option>
            <option value="tiktok">TikTok</option>
          </select>
          
          <select class="bg-input border border-border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-ring">
            <option value="">جميع البلدان</option>
            <option value="saudi">السعودية</option>
            <option value="egypt">مصر</option>
            <option value="uae">الإمارات</option>
            <option value="kuwait">الكويت</option>
            <option value="qatar">قطر</option>
          </select>
          
          <select class="bg-input border border-border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-ring">
            <option value="popular">الأكثر شعبية</option>
            <option value="newest">الأحدث</option>
            <option value="followers">الأكثر متابعة</option>
            <option value="views">الأكثر مشاهدة</option>
            <option value="rating">الأعلى تقييماً</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Live Streamers -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-foreground mb-6 flex items-center space-x-2 rtl:space-x-reverse">
        <div class="w-3 h-3 bg-red-500 rounded-full animate-pulse"></div>
        <span>مباشر الآن</span>
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
        {allStreamers.filter(s => s.isOnline).map(streamer => (
          <StreamerCard 
            streamer={streamer}
            onView={(id) => window.location.href = `/ar/streamers/${id}`}
            onFollow={(id) => console.log('Follow streamer:', id)}
            onUnfollow={(id) => console.log('Unfollow streamer:', id)}
            isCompact={true}
            showActions={true}
            currentUserId={1}
            client:load
          />
        ))}
      </div>
    </section>

    <!-- Featured Streamers -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-foreground mb-6 flex items-center space-x-2 rtl:space-x-reverse">
        <Star size={24} class="text-victory-gold" />
        <span>الستريمرز المميزون</span>
      </h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {featuredStreamers.map(streamer => (
          <StreamerCard 
            streamer={streamer}
            onView={(id) => window.location.href = `/ar/streamers/${id}`}
            onFollow={(id) => console.log('Follow streamer:', id)}
            onUnfollow={(id) => console.log('Unfollow streamer:', id)}
            isCompact={false}
            showActions={true}
            currentUserId={1}
            client:load
          />
        ))}
      </div>
    </section>

    <!-- Categories -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-foreground mb-6">تصفح حسب النوع</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <a href="/ar/streamers?type=tutorials" class="military-card p-4 text-center hover:shadow-lg transition-shadow">
          <div class="text-3xl mb-2">📚</div>
          <div class="font-medium text-foreground">تعليمي</div>
          <div class="text-sm text-muted-foreground">45 ستريمر</div>
        </a>
        <a href="/ar/streamers?type=entertainment" class="military-card p-4 text-center hover:shadow-lg transition-shadow">
          <div class="text-3xl mb-2">🎉</div>
          <div class="font-medium text-foreground">ترفيهي</div>
          <div class="text-sm text-muted-foreground">67 ستريمر</div>
        </a>
        <a href="/ar/streamers?type=competitive" class="military-card p-4 text-center hover:shadow-lg transition-shadow">
          <div class="text-3xl mb-2">🏆</div>
          <div class="font-medium text-foreground">تنافسي</div>
          <div class="text-sm text-muted-foreground">32 ستريمر</div>
        </a>
        <a href="/ar/streamers?type=mixed" class="military-card p-4 text-center hover:shadow-lg transition-shadow">
          <div class="text-3xl mb-2">🎯</div>
          <div class="font-medium text-foreground">متنوع</div>
          <div class="text-sm text-muted-foreground">12 ستريمر</div>
        </a>
      </div>
    </section>

    <!-- All Streamers -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-foreground mb-6 flex items-center space-x-2 rtl:space-x-reverse">
        <Users size={24} class="text-command-blue" />
        <span>جميع الستريمرز</span>
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
        {allStreamers.map(streamer => (
          <StreamerCard 
            streamer={streamer}
            onView={(id) => window.location.href = `/ar/streamers/${id}`}
            onFollow={(id) => console.log('Follow streamer:', id)}
            onUnfollow={(id) => console.log('Unfollow streamer:', id)}
            isCompact={true}
            showActions={true}
            currentUserId={1}
            client:load
          />
        ))}
      </div>
    </section>

    <!-- How to Become a Streamer -->
    <section class="military-card p-6">
      <h2 class="text-xl font-bold text-foreground mb-4">كيف تصبح ستريمر في زد اتش لوف؟</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <div class="flex items-start space-x-3 rtl:space-x-reverse">
            <div class="w-8 h-8 bg-tactical-green/20 text-tactical-green rounded-full flex items-center justify-center flex-shrink-0">
              <span class="text-sm font-bold">1</span>
            </div>
            <div>
              <h3 class="font-semibold text-foreground mb-1">إنشاء محتوى جودة</h3>
              <p class="text-sm text-muted-foreground">أنشئ محتوى عالي الجودة ومفيد للمجتمع</p>
            </div>
          </div>
          <div class="flex items-start space-x-3 rtl:space-x-reverse">
            <div class="w-8 h-8 bg-victory-gold/20 text-victory-gold rounded-full flex items-center justify-center flex-shrink-0">
              <span class="text-sm font-bold">2</span>
            </div>
            <div>
              <h3 class="font-semibold text-foreground mb-1">متابعين نشطين</h3>
              <p class="text-sm text-muted-foreground">اكسب 1000 متابع على الأقل في إحدى المنصات</p>
            </div>
          </div>
        </div>
        <div class="space-y-4">
          <div class="flex items-start space-x-3 rtl:space-x-reverse">
            <div class="w-8 h-8 bg-command-blue/20 text-command-blue rounded-full flex items-center justify-center flex-shrink-0">
              <span class="text-sm font-bold">3</span>
            </div>
            <div>
              <h3 class="font-semibold text-foreground mb-1">محتوى منتظم</h3>
              <p class="text-sm text-muted-foreground">انشر محتوى بانتظام واتفاعل مع المجتمع</p>
            </div>
          </div>
          <div class="flex items-start space-x-3 rtl:space-x-reverse">
            <div class="w-8 h-8 bg-neutral-silver/20 text-neutral-silver rounded-full flex items-center justify-center flex-shrink-0">
              <span class="text-sm font-bold">4</span>
            </div>
            <div>
              <h3 class="font-semibold text-foreground mb-1">تقديم الطلب</h3>
              <p class="text-sm text-muted-foreground">اتصل بنا لمراجعة طلبك والانضمام للمنصة</p>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center mt-6">
        <a href="/ar/streamers/apply" class="btn btn-primary">
          تقديم طلب الانضمام
        </a>
      </div>
    </section>
  </div>
</BaseLayout> 