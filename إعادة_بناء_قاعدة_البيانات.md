# إعادة بناء قاعدة بيانات البطولات

## خطوات إعادة بناء النظام

### 1. تشغيل ملف إعادة بناء قاعدة البيانات

**الطريقة الأولى - phpMyAdmin:**
1. افتح phpMyAdmin من XAMPP Control Panel
2. اختر قاعدة البيانات `zh_love_db`
3. اذهب إلى تبويب "SQL"
4. انسخ محتوى الملف `backend/database/simple_tournament_rebuild.sql`
5. الصق المحتوى في نافذة SQL
6. اضغط "Go" لتنفيذ الكود

**الطريقة الثانية - سطر الأوامر:**
```bash
# إذا كان MySQL متاح في PATH
mysql -u root -p zh_love_db < backend/database/simple_tournament_rebuild.sql

# أو استخدم المسار الكامل لـ MySQL
"C:\xampp\mysql\bin\mysql.exe" -u root -p zh_love_db < backend/database/simple_tournament_rebuild.sql
```

**الطريقة الثالثة - HeidiSQL أو MySQL Workbench:**
1. افتح البرنامج واتصل بقاعدة البيانات
2. فتح الملف `backend/database/simple_tournament_rebuild.sql`
3. تنفيذ الكود

### 2. التحقق من نجاح العملية

بعد التنفيذ، يجب أن ترى الرسائل التالية:
- ✅ "تم إعادة بناء نظام البطولات بنجاح!"
- ✅ عدد البطولات: 6
- ✅ عدد المشاركين: مختلف
- ✅ عدد المباريات: متنوع
- ✅ إجمالي الجوائز: $10,200

### 3. البيانات المُضافة

سيتم إضافة البطولات التالية مع بيانات حقيقية:

#### البطولات المميزة:
1. **بطولة الجنرالات الكبرى 2024** 
   - 128 مشارك، جائزة $2,500
   - التسجيل مفتوح

2. **تحدي الكلانات الأسبوعي**
   - 20 كلان، جائزة $500  
   - في التقدم

#### البطولات العادية:
3. **كأس الشرق الأوسط** (مكتملة)
   - 64 مشارك، جائزة $1,200

4. **بطولة الأساطير** (جارية)
   - 32 مشارك، جائزة $5,000

5. **تحدي الثنائيات الكبير**
   - 48 مشارك، جائزة $800
   - التسجيل مفتوح

6. **بطولة المبتدئين الشهرية** (مكتملة)
   - 32 مشارك، جائزة $200

### 4. حل المشاكل

إذا ظهرت أخطاء:

**خطأ Foreign Key:**
```sql
SET FOREIGN_KEY_CHECKS = 0;
-- ثم أعد تشغيل الكود
SET FOREIGN_KEY_CHECKS = 1;
```

**خطأ في قاعدة البيانات:**
```sql
USE zh_love_db;
-- ثم أعد تشغيل الكود
```

**خطأ في الصلاحيات:**
- تأكد من أن المستخدم له صلاحيات CREATE, DROP, INSERT
- أو استخدم مستخدم root

### 5. النتيجة المتوقعة

بعد إعادة البناء:
- ✅ نظام بطولات مبسط وفعال
- ✅ 6 بطولات بأنواع وحالات مختلفة
- ✅ بيانات مشاركين حقيقية
- ✅ مباريات ونتائج للبطولات المكتملة
- ✅ إحصائيات صحيحة ومتطابقة

### 6. الخطوة التالية

بعد إعادة بناء قاعدة البيانات، سيعمل:
- ✅ زر "إنشاء بطولة جديدة" بشكل صحيح
- ✅ عرض البطولات المميزة والعادية
- ✅ نظام التسجيل في البطولات
- ✅ عرض التفاصيل والبراكت 